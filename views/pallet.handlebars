<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Bootstrap CSS -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
<header id ="header-container" class="container-fluid" > <nav class="navbar navbar-expand-lg navbar-black bg-dark w-100">
  <a class="navbar-brand" href="/warehouses"><img src = "https://www.verizon.com/about/sites/default/files/news-media/verizon-news-media-colorbox.png" style="height: 74px; width: 132px;"></a>
  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNavAltMarkup" aria-controls="navbarNavAltMarkup" aria-expanded="false" aria-label="Toggle navigation">
    <span class="navbar-toggler-icon"></span>
  </button>
  <div class="collapse navbar-collapse" id="navbarNavAltMarkup">
    <div class="navbar-nav">
      <a class="nav-item nav-link active" href="/warehouses">Home <span class="sr-only">(current)</span></a>
      <a class="nav-item nav-link" href="about.html">About </a>
      <a class="nav-item nav-link" href="contactus.html">Contact Us</a>
      <a class="nav-item nav-link " href="/signup">Login</a>
    </div>
  </div>
</nav></header>
  </head>
<body style="background-color:rgb(235, 220, 192);text-align:center"></body>
<div style="padding-left: 12px; padding-right: 12px;">
  <img src="https://www.unitload.vt.edu/content/unitload_vt_edu/en/education/white-papers/5-wp-load-carrying-capacity-of-pallets/jcr:content/content/vtcontainer_1795476700/vtcontainer-content/adaptiveimage.transform/xl-medium/image.jpg" class="card-img-top" alt="warehouse image" style="max-height: 500px;">
  <div class="card-body">
    <h5 class="card-title">Pallet Information</h5>
  <ul>
    <h4>Existing Number of Pallet: {{warehouse.Pallets.length}}</h4>
  </ul>
  </div>
</div>
<button class="new-btn" style="margin-top: 0px; margin-left: 0px; width: 90%; margin-bottom: 10px;">
<a href="/newpalletform/{{warehouse.id}}" style="color: white;text-decoration: none;font-size: x-large;">Add New Pallet</a>
{{#each warehouse.Pallets}}
<div class="card card-pallet">
  <div class="card-body">
    <h5 class="card-title">Pallet id:  {{id}} with pallet capacity: {{capacity_of_pallet}}</h5>
    <div id="alert-{{id}}" > </div>
    <a href="/newboxform/{{id}}" class="btn btn-primary" style="color: #fff; background-color: black; border-color: gray; width: 350px; margin-top: 10px;">Add new box to the pallet</a>
    <a href="/box/{{id}}" class="btn btn-primary" style="color: #fff; background-color: black; border-color: gray; width: 350px; margin-top: 10px;">veiw Boxes</a>
    <a href="#" id='btn-pallet-{{id}}' class="btn btn-danger" style="margin-top: 10px; width: 350px;" onclick="deletePallet({{id}})">Remove Pallet</a>
  </div>
</div>
  <script>
   devAlert = document.getElementById("alert-{{id}}")
    alertLable=document.createElement('h5')
  if({{Boxes.length}}==0)
  {alertLable.innerText = "Alert! this pallet is empty need to be removed !";
  alertLable.style.color="red"
  devAlert.append(alertLable)}
 else {alertLable.innerText = "This pallet contains {{Boxes.length}} boxes";
     devAlert.append(alertLable)
     }
     console.log({{id}})
</script>
{{/each}}
<script>
  let devAlert = "";
   let alertLable="" ;
</script>
  <script src="/script.js"></script>
</div>